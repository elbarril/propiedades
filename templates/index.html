{% extends "layout.html" %}

{% block header_content %}
    {% if can_create %}
        <a class="link" href="/new">Crear busqueda</a>
    {% endif %}
{% endblock header_content %}

{% block main %}
    <div class="searchList">
        <h2>Lista de Busquedas</h2>

        <div class="cards">
            {% for name,entity in entities.items() %}
                <div class="card" id="{{ name }}">
                    <div class="card-content">
                        <h2>{{ name|title }}</h2>

                        <ul class="list list-scroll">
                            {% for location in entity.locations %}
                               <li class="list-item">{{ search.locations[location|int]|replace("-", " ")|title }},</li>
                            {% endfor %}
                        </ul>

                        <ul class="list">
                            <li class="list-item list-item-flex"><strong>Ambientes: </strong>{{ search.ambs[entity.ambs|int] }}</li>
                            <li class="list-item list-item-flex"><strong>Habitaciones: </strong>{{ search.rooms[entity.rooms|int] }}</li>
                            <li class="list-item list-item-flex"><strong>Valor: </strong>U$D {{ search.prices[entity.price|int] }}</li>
                            <li class="list-item list-item-flex"><strong>Tama√±o: </strong>{{ entity.meters }} m&#xB2;</li>
                        </ul>

                        <div class="buttons">
                            {% for source in search.sources.keys() %}
                                <a class="button" href="/{{ name }}/{{ source }}">{{ source|title }}</a>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock main %}